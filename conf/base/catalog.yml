# Here you can define all your data sets by using simple YAML syntax.
#
# Documentation for this file format can be found in "The Data Catalog"
# Link: https://docs.kedro.org/en/stable/data/data_catalog.html

# common settings
_common_csv_settings_pandas: &csv_defaults_pandas
  load_args:
    sep: ","
    na_values: ["#NA", NA]
  save_args:
    index: False
    date_format: "%Y-%m-%d %H:%M"
    decimal: .

# raw dataset definitions
raw_census_population:
  layer: raw
  type: api.APIDataSet
  url: http://api.census.gov/data/2021/pep/population
  params:
    get: "NAME,LASTUPDATE,STATE,POP_2021"
    for: "state:*"

# airports_pandas:
#   type: pandas.CSVDataSet
#   filepath: data/01_raw/us-airlines-domestic-departure-dataset/Stations.csv
#   <<: *csv_defaults

airports:
  layer: raw
  type: polars.CSVDataSet
  filepath: data/01_raw/us-airlines-domestic-departure-dataset/Stations.csv
  load_args:
    separator: ","

carriers:
  layer: raw
  type: polars.CSVDataSet
  filepath: data/01_raw/us-airlines-domestic-departure-dataset/Carriers.csv
  load_args:
    separator: ","

flights:
  layer: raw
  type: polars.CSVDataSet
  filepath: data/01_raw/us-airlines-domestic-departure-dataset/CompleteData.csv
  load_args:
    separator: ","

weather_codes:
  layer: raw
  type: polars.CSVDataSet
  filepath: data/01_raw/us-airlines-domestic-departure-dataset/ActiveWeather.csv
  load_args:
    separator: ","

cancellation_codes:
  type: polars.CSVDataSet
  filepath: data/01_raw/us-airlines-domestic-departure-dataset/Cancellation.csv
  load_args:
    separator: ","

# transformed dataset definitons
census_population:
  layer: intermediate
  type: polars.CSVDataSet
  filepath: data/02_intermediate/us_census_population_df.csv

census_population_clean:
  layer: intermediate
  type: polars.CSVDataSet
  filepath: data/02_intermediate/us_census_population.csv

airports_transformed:
  layer: intermediate
  type: polars.CSVDataSet
  filepath: data/02_intermediate/airports.csv

flights_transformed:
  layer: intermediate
  type: PartitionedDataSet
  path: data/02_intermediate/flights
  dataset: polars.CSVDataSet
  filename_suffix: ".csv"

# validated datasets
census_population_validated:
  layer: primary
  type: polars.CSVDataSet
  filepath: data/03_primary/airports.csv

airports_validated:
  layer: primary
  type: polars.CSVDataSet
  filepath: data/03_primary/airports.csv
